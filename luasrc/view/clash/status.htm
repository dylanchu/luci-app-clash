<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-dns-prefetch-control" content="on">
	<link rel="dns-prefetch" href="//cdn.jsdelivr.net">
	<meta name="referrer" content="no-referrer">
	<link rel="preconnect" href="https://geoip.gbxcloud.com">
	<link rel="preconnect" href="https://myip.ipip.net">
	<link rel="preconnect" href="https://api.ip.sb/geoip/">
	<link rel="preconnect" href="https://ip4.seeip.org/json">
</head>

</html>
<style>
	.pure-g {
		letter-spacing: -.31em;
		text-rendering: optimizespeed;
		font-family: FreeSans, Arimo, "Droid Sans", Helvetica, Arial, sans-serif;
		display: -webkit-box;
		display: -webkit-flex;
		display: -ms-flexbox;
		display: flex;
		-webkit-box-orient: horizontal;
		-webkit-box-direction: normal;
		-webkit-flex-flow: row wrap;
		-ms-flex-flow: row wrap;
		flex-flow: row wrap;
		-webkit-align-content: flex-start;
		-ms-flex-line-pack: start;
		align-content: flex-start
	}

	@media all and (-ms-high-contrast:none),
	(-ms-high-contrast:active) {
		table .pure-g {
			display: block
		}
	}

	.opera-only :-o-prefocus,
	.pure-g {
		word-spacing: -.43em
	}

	.pure-u {
		display: inline-block;
		zoom: 1;
		letter-spacing: normal;
		word-spacing: normal;
		vertical-align: top;
		text-rendering: auto
	}

	.pure-g [class*=pure-u] {
		font-family: sans-serif
	}

	.pure-u-1,
	.pure-u-1-1,
	.pure-u-1-12,
	.pure-u-1-2,
	.pure-u-1-24,
	.pure-u-1-3,
	.pure-u-1-4,
	.pure-u-1-5,
	.pure-u-1-6,
	.pure-u-1-8,
	.pure-u-10-24,
	.pure-u-11-12,
	.pure-u-11-24,
	.pure-u-12-24,
	.pure-u-13-24,
	.pure-u-14-24,
	.pure-u-15-24,
	.pure-u-16-24,
	.pure-u-17-24,
	.pure-u-18-24,
	.pure-u-19-24,
	.pure-u-2-24,
	.pure-u-2-3,
	.pure-u-2-5,
	.pure-u-20-24,
	.pure-u-21-24,
	.pure-u-22-24,
	.pure-u-23-24,
	.pure-u-24-24,
	.pure-u-3-24,
	.pure-u-3-4,
	.pure-u-3-5,
	.pure-u-3-8,
	.pure-u-4-24,
	.pure-u-4-5,
	.pure-u-5-12,
	.pure-u-5-24,
	.pure-u-5-5,
	.pure-u-5-6,
	.pure-u-5-8,
	.pure-u-6-24,
	.pure-u-7-12,
	.pure-u-7-24,
	.pure-u-7-8,
	.pure-u-8-24,
	.pure-u-9-24 {
		display: inline-block;
		zoom: 1;
		letter-spacing: normal;
		word-spacing: normal;
		vertical-align: top;
		text-rendering: auto
	}

	.pure-u-1-24 {
		width: 4.1667%
	}

	.pure-u-1-12,
	.pure-u-2-24 {
		width: 8.3333%
	}

	.pure-u-1-8,
	.pure-u-3-24 {
		width: 12.5%
	}

	.pure-u-1-6,
	.pure-u-4-24 {
		width: 16.6667%
	}

	.pure-u-1-5 {
		width: 20%
	}

	.pure-u-5-24 {
		width: 20.8333%
	}

	.pure-u-1-4,
	.pure-u-6-24 {
		width: 25%
	}

	.pure-u-7-24 {
		width: 29.1667%
	}

	.pure-u-1-3,
	.pure-u-8-24 {
		width: 33.3333%
	}

	.pure-u-3-8,
	.pure-u-9-24 {
		width: 37.5%
	}

	.pure-u-2-5 {
		width: 40%
	}

	.pure-u-10-24,
	.pure-u-5-12 {
		width: 41.6667%
	}

	.pure-u-11-24 {
		width: 45.8333%
	}

	.pure-u-1-2,
	.pure-u-12-24 {
		width: 50%
	}

	.pure-u-13-24 {
		width: 54.1667%
	}

	.pure-u-14-24,
	.pure-u-7-12 {
		width: 58.3333%
	}

	.pure-u-3-5 {
		width: 60%
	}

	.pure-u-15-24,
	.pure-u-5-8 {
		width: 62.5%
	}

	.pure-u-16-24,
	.pure-u-2-3 {
		width: 66.6667%
	}

	.pure-u-17-24 {
		width: 70.8333%
	}

	.pure-u-18-24,
	.pure-u-3-4 {
		width: 75%
	}

	.pure-u-19-24 {
		width: 79.1667%
	}

	.pure-u-4-5 {
		width: 80%
	}

	.pure-u-20-24,
	.pure-u-5-6 {
		width: 83.3333%
	}

	.pure-u-21-24,
	.pure-u-7-8 {
		width: 87.5%
	}

	.pure-u-11-12,
	.pure-u-22-24 {
		width: 91.6667%
	}

	.pure-u-23-24 {
		width: 95.8333%
	}

	.pure-u-1,
	.pure-u-1-1,
	.pure-u-24-24,
	.pure-u-5-5 {
		width: 100%
	}

	.block {
		margin: 0.5rem;
		padding: 0;
		font-weight: normal;
		font-style: normal;
		line-height: 1;
		font-family: inherit;
		min-width: inherit;
		overflow-x: auto;
		overflow-y: hidden;
		border: 1px solid rgba(0, 0, 0, .05);
		border-radius: .375rem;
		background-color: #fff;
		box-shadow: 0 0 2rem 0 rgba(136, 152, 170, .15);
	}

	.img-con {
		margin: 1rem;
		margin-left: -20px;

	}

	.green {
		font-size: .9rem;
		color: #2dce89;
	}

	.red {
		font-size: .9rem;
		color: #fb6340;
	}

	.yellow {
		font-size: .9rem;
		color: #fb9a05;
	}

	.block img {
		width: 48px;
		height: auto;
		float: right;
	}

	.pure-u-5-8 {
		display: flex;
		align-items: center;
	}

	.block h4 {
		font-size: .8125rem;
		font-weight: 600;
		margin: 1rem;
		color: #8898aa !important;
		line-height: 1.8em;
		min-height: 48px;
	}

	.check {
		cursor: pointer;
	}

	@media screen and (max-width: 720px) {
		.block {
			margin: 0.2rem;
		}

		.pure-u-1-4 {
			width: 50%;
		}

		.pure-u-1-2 {
			width: 100%;
		}


	}

	@media screen and (max-width: 480px) {
		.img-con {
			margin: 1.5rem 0.5rem;
		}

		.block img {
			width: 36px;
		}

	}

	@media only screen and (max-width: 600px) {
		.siz {
			width: 100%;
		}
	}

	@media only screen and (min-width: 768px) {
		.siz {
			width: 50%;
		}
	}

	@media only screen and (min-width: 600px) {
		.siz {
			width: 50%;
		}
	}

	@media only screen and (max-width: 480px) {
		.siz {
			width: 100%;
		}
	}
</style>


<fieldset class="cbi-section">
	<p width="100%" align="center">
		<font color="blue"><b id="_realtimelog">Clash for OpenWRT</b></font>
	</p>
	<p width="100%" align="center">
		<%:Rule-based Custom Proxy Client%>
	</p>
	<p width="100%" align="center" id="_downloadnew"></p>
</fieldset>


<fieldset class="cbi-section">
	<div class="pure-g status">
		<div class="pure-u-1-4 ">
			<div class="block pure-g">
				<div class="pure-u-8-24">
					<div class="img-con">
						<img src="data:image/png;base64,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"
							alt="baidu" style="max-width:90%; max-height:2000px;" />
					</div>
				</div>
				<div class="pure-u-16-24">
					<h4>
						<%:Baidu%><br><br><span id="status_baidu" class="red"><em><%:Collecting data...%></em></span>
					</h4>
				</div>
			</div>
		</div>


		<div class="pure-u-1-4 ">
			<div class="block pure-g">
				<div class="pure-u-8-24">
					<div class="img-con">
						<img src="data:image/png;base64,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"
							alt="google" style="max-width:90%; max-height:2000px;" />
					</div>
				</div>
				<div class="pure-u-16-24">
					<h4>
						<%:Google%><br><br><span id="status_google" class="red"><em><%:Collecting data...%></em></span>
					</h4>
				</div>
			</div>
		</div>

		<div class="pure-u-1-4 ">
			<div class="block pure-g">
				<div class="pure-u-8-24">
					<div class="img-con">
						<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA7dJREFUeF7tmkloFEEUhr9ywQ1RoogICoriAoq4oEYP5iBqBEG8KeZoFDTo0Q1FXG4q5iLm5sGTOYnxJOZgDIhBcYnBgxJEFBUXImpcKHmZmqEz6cxUUtOV7pluaBiGqlf/+/r166p6pajwS1W4/6QA0giocALpK1DhAZAmwfQVSF+BEhDQMBaYYO7xeb/HOQ7RC/wCfpo791vBH0fbg+cADavI3EuBJSEOBh0d7SpkmP3/hYAJwuoAOoEnCh6GjTEgB+iMs6eBncMUFdduzcAlBfeCAvsBMM4/ACbF1QtHXfI6bVHQmrWTA6BhIdDlOEBSus9S8E7EBgHcB9YlxQNHnTcVbM8B0LAVaHE0mrTutQpu90WAhsvAwaR54Ki3UUFDFsAjYLmjwaR1f6pgmdIwFfiSNPUl0lslADYCd0tkMGlmagRAPXAlacpLpHefALgAHC6RwaSZuSgAbgG1HpS/AWZ7GGcoQ7QIAF8TIJl+yny8cSgKI27bLgB8fQJbFdSYeYdAOBCxczbmHwsAmf/LOiDqKwfAQJhnku+mqAcuYL9LAHQDczyI6AcgO56GzUDTCOWHbgHwEZg+UgACIGQqLlNyn9cHAfDd0/o/NAKC3mqYBpzymB96BIBsK43ygL0ogEA0rDW7UlHnh78CQHtwXoawBhAAUQeciTI/xBqA+VqMAU4Cx6N4ULEHYCDMMLlhf6khxB6AhkPACaCq1M6LvdgC0LDNOL4mCsezNgWAFBJcqzc2Gq2SoIYF5p3fbWPUsU2vAPgKTHE0ZNO9KACdSXYNUYV7iMhvAkD2x2faeODYZlAAGnYZxyMN9xD97wXAK2Cuo3M23QcAMPVHSXI+wj1M42sB8NwUP22ccGkTXA7LKyeO+wz3MO2dAkCqpitdPLPs2wdAZ562LHx8h3uYzA4BINXS9ZZOuDSTHaG3IxjuYdrbBMANT6Xwzx6zu+2DahYAstg4ZtujzNqdFQB7gGtl5pitO3UCYAUgR0kq8VotAOSAU4+n6XCcIP8GJmerw21AdZzUedDSrqA6C+AIcM7DoHEa4qiC81kAi4AXcVLnQctiBV3BM0KVVCStV3BVIOcfk/NVKPXwgAcdot+iLOygpOzLy7q8HK8mBXuDjoWeFtewAdhBppgpdcOJCabxksx657qCO/l+WB2X1zDf1A8FxFBuOUAt222Fbtn2LnT9MPMUmavk31LVCvs/+98zBZ8KGbcCkOCnX1R6CqAoojJvkEZAmT/gou6lEVAUUZk3qPgI+A8WcdoVtUP+BAAAAABJRU5ErkJggg=="
							alt="youtube" style="max-width:90%; max-height:2000px;" />
					</div>
				</div>
				<div class="pure-u-16-24">
					<h4>
						<%:Youtube%><br><br><span id="status_youtube" class="red"><em><%:Collecting data...%></em></span>
					</h4>
				</div>
			</div>
		</div>

		<div class="pure-u-1-4">
			<div class="block pure-g">
				<div class="pure-u-8-24">
					<div class="img-con">
						<img src="data:image/png;base64,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"
							alt="github" style="max-width:90%; max-height:2000px;" />
					</div>
				</div>
				<div class="pure-u-16-24">
					<h4>
						<%:GitHub%><br><br><span id="status_github" class="red"><em><%:Collecting data...%></em></span>
					</h4>
				</div>
			</div>
		</div>

	</div>
</fieldset>

<fieldset class="cbi-section">
	<div class="pure-g status">
		<div class="siz">
			<div class="block pure-g">
				<div class="pure-u-16-24">
					<h4>
						<%:Global IP%><br><br><span class="green" id="ip-ipify"><%:Checking...%></span> <span class="green" id="ip-ipify-ipip"></span>
					</h4>
				</div>
			</div>
		</div>

		<div class="siz">
			<div class="block pure-g">
				<div class="pure-u-16-24">
					<h4>
						<%:Domestic IP%><br><br><span id="d-ip" class="green"><%:Checking...%></span><span class="green" id="ipify-ipip"></span>
					</h4>
				</div>
			</div>
		</div>

	</div>
</fieldset>


<fieldset class="cbi-section">
	<table width="100%" cellspacing="10">
		<tr>
			<td width="50%"><span> <%:Clash Client%> </span></td><td id="_clash"><em> <%:Collecting data...%> </em></td>
		</tr>
		<tr>
			<td width="50%"><span><%:Clash Mode%></span></td><td id="_emode"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><span><%:Clash Config%></span></td><td id="_conf"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><span><%:Config Type%></span></td><td id="_conf_path"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><span><%:Clash Dashboard%></span></td><td id="_web"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><span><%:Yacd Dashboard%></span></td><td id="_webb"><em><%:Collecting data...%></em></td>
		</tr>
	</table>
</fieldset>

<fieldset class="cbi-section">
	<table width="100%" cellspacing="10">
		<tr>
			<td width="50%"><%:Dashboard Host%></td><td id="_ip"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><%:Dashboard Port%></td><td id="_port"><em><%:Collecting data...%></em></td>
		</tr>
		<tr>
			<td width="50%"><%:Dashboard Secret%></td><td id="_secret"><em><%:Collecting data...%></em></td>
		</tr>
	</table>
</fieldset>



<script type="text/javascript">//<![CDATA[
	let random = parseInt(Math.random() * 100000000);
	let IP = {
		get: (url, type) =>
			fetch(url, { method: 'GET' }).then((resp) => {
				if (type === 'text')
					return Promise.all([resp.ok, resp.status, resp.text(), resp.headers]);
				else {
					return Promise.all([resp.ok, resp.status, resp.json(), resp.headers]);
				}
			}).then(([ok, status, data, headers]) => {
				if (ok) {
					let json = {
						ok,
						status,
						data,
						headers
					}
					return json;
				} else {
					throw new Error(JSON.stringify(json.error));
				}
			}).catch(error => {
				throw error;
			}),

		parseIPIpip: (ip, elID) => {
			IP.get(`https://geoip.gbxcloud.com/?geoip=${ip}`, 'text')
				.then(resp => {
					document.getElementById(elID).innerHTML = resp.data;
				})
		},

		getIpipnetIP: () => {
			IP.get(`http://myip.ipip.net/?z=${random}`, 'text')
				.then((resp) => {
					let data = resp.data.replace('当前 IP：', '').split(' 来自于：');
					//var u= data[0].indexOf("来自于：")
					document.getElementById('d-ip').innerHTML = `${data[0]} - `
					return `${data[0]}`
				})
				.then(ip => {
					IP.parseIPIpip(ip, 'ipify-ipip');
				})
		},

		getIpifyIP: () => {
			IP.get(`https://ip4.seeip.org/json?z=${random}`, 'json')
				.then(resp => {
					document.getElementById('ip-ipify').innerHTML = `${resp.data.ip} - `;
					return resp.data.ip
				})
				.then(ip => {
					IP.parseIPIpip(ip, 'ip-ipify-ipip');
				})
		}
	}

	var HTTP = {
		checker: (domain, cbElID) => {
			let img = new Image;
			let timeout = setTimeout(() => {
				img.onerror = img.onload = null;
				img = null;
				document.getElementById(cbElID).innerHTML = '<b class="red"><%:NO ACCESS%></b>'
			}, 1000);
			img.onerror = () => {
				clearTimeout(timeout);
				document.getElementById(cbElID).innerHTML = '<b class="red"><%:TIMEOUT%></b>'
			}
			img.onload = () => {
				clearTimeout(timeout);
				document.getElementById(cbElID).innerHTML = '<b class="green"><%:NORMAL%></b>'
			}
			img.src = `https://${domain}/favicon.ico?${+(new Date)}`
		}
	}


	var dnew = document.getElementById('_downloadnew');
	var web = document.getElementById('_web');
	var webb = document.getElementById('_webb');
	var clash = document.getElementById('_clash');
	var ip = document.getElementById('_ip');
	var port = document.getElementById('_port');
	var secret = document.getElementById('_secret');
	var emode = document.getElementById('_emode');
	var logo = document.getElementById('_logo');
	var conf = document.getElementById('_conf');
	var conf_path = document.getElementById('_conf_path');


	IP.getIpifyIP();
	IP.getIpipnetIP();
	HTTP.checker('www.baidu.com', 'status_baidu');
	HTTP.checker('www.google.com', 'status_google');
	HTTP.checker('www.youtube.com', 'status_youtube');
	HTTP.checker('github.com', 'status_github');
	XHR.poll(3, '<%=luci.dispatcher.build_url("admin", "services", "clash", "status")%>', null, function (x, status) {
		if (x && x.status == 200) {
			web.innerHTML = status.clash ? '<a type="button" class="btn" style="background-color:black;padding: 5px;"  href="http://' + window.location.hostname + ':' + status.dash_port + '/ui" target="_blank"><b><font color="green"><%:DASHBOARD%></font></b></a>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			webb.innerHTML = status.clash ? '<a type="button" class="btn" style="background-color:black;padding: 5px;"  href="http://' + window.location.hostname + status.uhttp_port + '/luci-static/yacd?hostname=' + status.localip + '&port=' + status.dash_port + '&secret=' + status.dash_pass + '" target="_blank"><b><font color="green"><%:DASHBOARD%></font></b></a>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			clash.innerHTML = status.clash ? '<b><font color="green"><%:RUNNING%></font> </b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			ip.innerHTML = status.localip ? '<b><font color="green">' + status.localip + '</font> </b>' : '<em><b><font color="red"><%:NOT SET%></font></b></em>';
			port.innerHTML = status.dash_port ? '<b><font color="green">' + status.dash_port + '</font> </b>' : '<em><b><font color="red"><%:NOT SET%></font></b></em>';
			secret.innerHTML = status.dash_pass ? '<b><font color="green">' + status.dash_pass + '</font> </b>' : '<em><b><font color="red"><%:NOT SET%></font></b></em>';
			emode.innerHTML = status.clash ? '<b><font color="green" style="text-transform: uppercase;">' + status.e_mode + '</font> </b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			if (status.typeconf != 0 || status.typeconf != '') {
				conf.innerHTML = status.typeconf ? '<b><input type="button" class="btn" style="background-color:black;padding: 5px;font-color:green;color:green;font-weight:bold" value="<%:VIEW CONFIG%>" onclick="return view(this)" /></b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			}
			if (status.typeconf == 1) {
				conf_path.innerHTML = status.clash ? '<b><font color="green"><%:SUBSCRIBE%> </font></b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			}
			if (status.typeconf == 2) {
				conf_path.innerHTML = status.clash ? '<b><font color="green"><%:UPLOAD%></font></b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			}
			if (status.typeconf == 3) {
				conf_path.innerHTML = status.clash ? '<b><font color="green"><%:CUSTOM%></font></b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			}
			if (status.typeconf == 0 || status.typeconf == '') {
				conf_path.innerHTML = status.typeconf ? '<b><font color="red"><%:NOT SELECTED%></font></b>' : '<b><font color="red"><%:NOT RUNNING%></font></b>';
			}
			if (status.new_version > status.current_version) {
				dnew.innerHTML = '<center><br><a href="https://github.com/frainzy1477/luci-app-clash/releases/download/' + status.new_version + '/luci-app-clash_' + status.new_version + '_all.ipk" class="btn" style="height:20px;font-size:15px;margin-top:-20px;background-color:#568fa1;color:#ffffff;" target="_blank"><%:Download Update%></a></center>';
			}

			IP.getIpifyIP();
			IP.getIpipnetIP();
			if (x && x.status == 200) {
				HTTP.checker('www.baidu.com', 'status_baidu');
				HTTP.checker('www.google.com', 'status_google');
				HTTP.checker('www.youtube.com', 'status_youtube');
				HTTP.checker('github.com', 'status_github');
			}
		}
	});


	var rtlog = document.getElementById('_realtimelog');
	XHR.poll(1, '<%=luci.dispatcher.build_url("admin", "services", "clash", "readlog")%>', status.readlog, function (x, status) {
		if (x && x.status == 200) {
			if (status.readlog != "\n" || status.readlog != "") {
				rtlog.innerHTML = '<b>' + status.readlog + '</b>';
			}
		}
	});


	XHR.poll(5, '<%=luci.dispatcher.build_url("admin", "services", "clash", "check_status")%>', null, function (x, status) { });

//]]></script>

<style>
	.modals-bg {
		position: fixed;
		z-index: 90;
		width: 100%;
		height: 100%;
		left: 0;
		top: 0;
		background: rgba(0, 0, 0, 0.8);
		display: none;
	}

	.modals {
		position: fixed;
		z-index: 100;
		width: 70%;
		height: 650px;
		background: #FFFFFF;
		left: 20%;
		top: 15%;
		color: #fff;
		border-radius: 10px;
		padding: 20px;

		box-sizing: border-box;
		-moz-box-sizing: border-box;
		/* Firefox */
		-webkit-box-sizing: border-box;
		/* Safari */
	}

	.modals h2 {}

	.modals h3 {
		font-size: 14px;
		color: red;
		background: transparent;
		margin: 0;
		padding: 0;
	}

	@media screen and (max-width: 1024px) {
		.modals {
			position: fixed;
			z-index: 100;
			width: 80%;
			height: 550px;
			background: #FFFFFF;
			left: 10%;
			top: 15%;
			color: #fff;
			border-radius: 10px;
			padding: 20px;
		}
	}

	@media screen and (max-width: 700px) {
		.modals-bg {
			position: fixed;
			z-index: 100000;

		}

		.modals {
			width: 100%;
			height: 100%;
			left: 0;
			top: 0;
		}
	}

	.close {
		color: #aaaaaa;
		float: right;
		font-size: 28px;
		font-weight: bold;
	}

	.close:hover,
	.close:focus {
		color: #000;
		text-decoration: none;
		cursor: pointer;
	}
</style>
<div class="modals-bg">

	<div class="modals">
		<span><input type="button" class="cbi-button cbi-button-apply" value="<%:Download%>" style=" display:inline;"
				onclick=" return download_conf()" /></span><br /><span class="close">&times;</span>
		<br />
		<h3 style="margin-left:0;">
			<%:If config does not show refresh page%>
		</h3><br />
		<span><textarea id="cbid.logview.1.conf"
				style="width:100%;height:80%; font-family:'Lucida Console'; font-size:12px;padding-left:3px;padding-right:22px;"
				readonly="readonly" wrap="off"
				rows="25"><%=pcdata(nixio.fs.readfile("/etc/clash/config.yaml"))%></textarea></span>
	</div>
</div>
<script>
	var btn = document.getElementById("myBtn");
	var span = document.getElementsByClassName("close")[0];
	var cfg = document.getElementsByClassName("modals-bg")[0];
	span.onclick = function () {
		cfg.style.display = "none";
	}
	function view(btn) {
		cfg.style.display = "inline";
	}

	function createAndDownloadFile(fileName, content) {
		var aTag = document.createElement('a');
		var blob = new Blob([content]);
		aTag.download = fileName;
		aTag.href = URL.createObjectURL(blob);
		aTag.click();
		URL.revokeObjectURL(blob);
	}
	function download_conf() {
		var lv = document.getElementById('cbid.logview.1.conf');
		var dt = new Date();
		createAndDownloadFile("config.yaml", lv.innerHTML)
		return
	}
</script>